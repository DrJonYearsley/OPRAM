This directory contains the Julia version of the degree day models


## Main OPRAM simulation
The primary file to run the model is OPRAM_main_program.jl
This program can be given one argument: the name of the parameter file


Filename  | Description
----------| --------------------------------
OPRAM_main_program.jl | The main file to start running the model
OPRAM_ddmodel_functions.jl | The underlying functions for running the degree daymodel
OPRAM_io_functions.jl | Functions to import/export data (meteo, grid and species data)


## Processing OPRAM results

Results for the OPRAM app are generated by first running OPRAM_calculate_average.jl (with a parameter file as an argument) and then running OPRAM_calculate_anomaly.jl (with a parameter file as an argument).

If the multi-year average results already exist, you only need to run OPRAM_calculate_anomaly.jl


Filename  | Description
----------| --------------------------------
OPRAM_processing_functions.jl | Functions used to process the saved model data (e.g. calculate multi-year averages and anomalies)
OPRAM_calculate_emergeDOY.jl  | A program to output OPRAM results in CSV format for a specific starting date
OPRAM_calculate_average.jl    | A program to calculate averages across multiple years (default is 1991-2020)
OPRAM_calculate_anomaly.jl    | A program to import OPRAM results and the multi-year averages and format them in a CSV file suitable for the OPRAM online app
 
 
## Parameter files
Parameters are defined in TOML formatted files (https://toml.io/en/) that are human readable.
These parameter files are used by 

  + OPRAM_main_program.jl  
  + OPRAM_calculate_average.jl  
  + OPRAM_calculate_anomaly.jl  
  + OPRAM_calculate_emergeDOY.jl 



Filename  | Description
----------| --------------------------------
parameters.toml  |  Model parameter settings for past climates and pre-defined species
parameters_userdefined.toml |  Model parameter settings for past climates and user-defined species
parameters_future.toml   |  Model parameter settings for future climates and pre-defined species
parameters_userdefined_future.toml |  Model parameter settings for future climates and user-defined species
-----------|--------------------
parameters_NI_test.toml | Parameters to run Met Eireann data for just Northern Ireland
parameters_UK_test.toml | Parameters to run UK Met Office data for just Northern Ireland
parameters_debug.toml | Parameters for debugging program


## Data Preparation

Filename  | Description
----------| --------------------------------
meteo_to_jld.jl  | Convert Met Eireann gridded csv files of gridded temperatures into a jld2 file
meteoUK_to_jld2.jl | Convert UK Met Office netCDF files of gridded temperatures into a jld2 file
translate_to_jld.jl  | Convert Met Eireann TRANSLATE csv files of gridded temperatures into a jld2 file




## Additional programs

Filename  | Description
----------| --------------------------------
OPRAM_visualise.jl  | Create some visualisations of the model (Model visualisation is better done in R with OPRAM_visualisations.R)
visualise_GDD_results.jl | Create maps of Ireland showing key model outputs (can also display averages across years)
map_plot.jl  | Another program to plot maps of the results
matrix_model.jl | Create a metric model that iterates the model and viualises the long-term distribution of emergence dates
periodicMatrixModel.jl | Create a full periodic matrix model to translate insect phenologies into population growth rates





